<!DOCTYPE html>
<html lang="ko">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SECTOR 1</title>
<link rel="icon" type="image/jpg" href="image/favicon.jpg">
<link rel="stylesheet" href="sector_content.css">

</head>


<body>
    <div class="header">
        <h1>SECTOR 1. 인식</h1>
        <p>Well / Poorly recognized</p>
    </div>

    <div class="intro">
        <p>1996년 세계보건기구는 '<b><span style="color: red">비만</span></b>은 
            장기 치료가 필요한 질병'으로 규정하였습니다.<br> 
            그 이후 비만은 현 인류가 극복해야 할 중요한 <b><span style="color: red">질병</span></b> 
            중 하나로 인식되고 있습니다.</p>
    </div>

    <div class="content">
        <form id="content" action="">

            <label for="content">1. 현재 귀하의 체형이 어떻다고 생각하십니까?</label><br><br>

            <input type="radio" id="veryfat1" name="content" value=1>
            <label for="veryfat1">매우 비만</label><br>
    
            <input type="radio" id="fat1" name="content" value=2>
            <label for="fat1">약간 비만</label><br>
    
            <input type="radio" id="normal1" name="content" value=3>
            <label for="normal1">보통</label><br>
    
            <input type="radio" id="slim1" name="content" value=4>
            <label for="slim1">약간 마름</label><br>
    
            <input type="radio" id="veryslim1" name="content" value=5>
            <label for="veryslim1">매우 마름</label><br>

            <button onclick="location.href='sector1_2.html'"  id="submitBtn" class="submitBtn">다음</button>
        </form>
    </div>
    
    


    <script>
    
    document.getElementById('submitBtn').addEventListener('click', function(event) {
            // 폼 제출 막기?
            event.preventDefault();
            
            //ABC_temp1에 1-1번의 사용자 응답 저장
            let answer1 = document.querySelector('#content input[name="content"]:checked').value;

            let ABC_temp1 = { 1 : parseInt(answer1)};
            let ABC_a={1:{},2:{},3:{},4:{}};
            let ABC_result={};
            
            sessionStorage.setItem('ABC_temp1', JSON.stringify(ABC_temp1));

            //parse
            let parsedObj = JSON.parse(sessionStorage.getItem('ABC_temp1'));
            


            //parse in sector0
            let storedData0 = sessionStorage.getItem('ABC_sector0');

            let parsedObj0 = JSON.parse(storedData0);

            //sector0의 BMI 데이터와 sector1-1 사용자 대답의 비교 통해 1-1 정답 도출
            if(parsedObj0["BMI"] == 4){
                if(parsedObj[1]==4 || parsedObj[1]==5){
                    ABC_a[1][1] = 0; //정답
                }
                else{
                    ABC_a[1][1]=parsedObj0["BMI"]-parsedObj[1];
                }
            }
            else{
                if(parsedObj0["BMI"]-parsedObj[1]==0){
                    ABC_a[1][1] = 0; //정답
                }
                else{
                    ABC_a[1][1]=parsedObj0["BMI"]-parsedObj[1];
                }
            }

            
            sessionStorage.setItem('ABC_a', JSON.stringify(ABC_a));
            sessionStorage.setItem('ABC_result', JSON.stringify(ABC_result));   
        });
    </script>




</body>
</html>
